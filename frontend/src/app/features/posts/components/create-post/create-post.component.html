<div>
  <form [formGroup]="postForm" (ngSubmit)="submitPost()" >
    <h1>New Post</h1>
    <div>
      <label>Post Type:</label>
      <select formControlName="contentType">
        <option [value]="contentTypes.Text">Text</option>
        <option [value]="contentTypes.Image">Image</option>
        <option [value]="contentTypes.Video">Video</option>
      </select>
    </div>

    <div *ngIf="contentType == contentTypes.Text; else imageTemplate">
      <h4>Title</h4>
      <input formControlName="title" type="text" required>

      <h4>Description</h4>
      <input formControlName="description" type="text" required>
    </div>

    <ng-template #imageTemplate >
      <div *ngIf="contentType == contentTypes.Image; else videoTemplate">
        <h4>Title (optional)</h4>
        <input formControlName="title" type="text">

        <h4>Description (optional)</h4>
        <input formControlName="description" type="text">

        <h4>Upload image</h4>
        <input type="file" required>
      </div>
    </ng-template>

    <ng-template #videoTemplate>
      <div>
        <h4>Title (optional)</h4>
        <input formControlName="title" type="text">

        <h4>Description (optional)</h4>
        <input formControlName="description" type="text">

        <h4>Upload video</h4>
        <input type="file" (change)="postForm.patchValue({ file: $event.target })" required>
      </div>
    </ng-template>

    <button type="submit">Create</button>
  </form>

  <div>
    <h1>Preview</h1>
    <div>
      <img src="">
      <p>username</p>
      <p>date</p>
      <h3>title: {{ title }}</h3>
      <img [src]="file">
      <p>likes</p>
      <p>comments</p>
      <p>description: {{ description }}</p>
    </div>
  </div>
</div>
