<div class="post flex flex-col" *ngFor="let post of posts" xmlns="http://www.w3.org/1999/html">
  <div class="content flex flex-col">
    <header class="flex">
      <img class="image" [src]="post.userImageUrl || 'assets/profile.svg'" alt="post-image">
      <p>{{ post.username }}</p>
      <span class="dot">â€¢</span>
      <span class="date">{{ post.createdAt | date: "mediumDate" }}</span>
      <img class="see-more"
           *ngIf="post.username == currentUsername"
           (click)="openOptions(post)"
           [src]="'assets/more.svg'"
           height="40px"
           width="40px"
           alt="see more..."
      >
    </header>
    <h3>{{ post.title }}</h3>
    <div class="media">
      <img *ngIf="post.contentType == ContentType.Image || post.contentType == ContentType.Video" [src]="post.contentUrl" alt="post-image"/>
    </div>
    <div class="meta">
      <app-like [post]="post" (likeChange)="updatePost($event)"></app-like>
      <app-comment (click)="openModal(post)" [post]="post"></app-comment>
    </div>
    <p>{{ post.description }}</p>
  </div>
</div>

<app-post-modal
  *ngIf="selectedPostForModal"
  [post]="selectedPostForModal"
  (close)="selectedPostForModal = null"
  (postChange)="updatePost($event)"
></app-post-modal>

<app-post-options
  *ngIf="selectedPostForOptions"
  [post]="selectedPostForOptions"
  (close)="selectedPostForOptions = null"
  (delete)="deletePost($event)"
></app-post-options>
