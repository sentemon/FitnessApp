<ul class="sets">
  <li
    *ngFor="let setHistory of exerciseHistory.setHistories; let i = index"
    [class.completed]="setHistory.completed"
    class="set"
  >
    <div class="set-info">
      <p>Set {{ i + 1 }}: {{ setHistory.reps }} reps {{ setHistory.weight }} kg</p>
      <a class="delete-set" (click)="deleteSet(setHistory.id)" *ngIf="workoutHistory.workout.isCustom">×</a>
    </div>
    <div class="set-actions">
      <button *ngIf="!setHistory.completed" (click)="markSetAsCompleted(i)">Mark as Completed</button>
      <span *ngIf="setHistory.completed" (click)="markSetAsUncompleted(i)">✅ Completed</span>
    </div>
  </li>
</ul>

<div class="add-set" *ngIf="workoutHistory.workout.isCustom">
  <input
    type="number"
    placeholder="Reps"
    [(ngModel)]="newSetHistory.reps"
    min="1"
    class="set-input"
  />
  <input
    type="number"
    placeholder="Weight (kg)"
    [(ngModel)]="newSetHistory.weight"
    min="0"
    class="set-input"
  />
  <button
    (click)="addSet(exerciseHistory.id, newSetHistory.reps, newSetHistory.weight)"
    [disabled]="!newSetHistory.reps || newSetHistory.reps < 1 || newSetHistory.weight < 0">
    + Add Set
  </button>
</div>
