<div class="onboarding">
  <div *ngIf="activeIndex === 0; else personal" class="step">
    <h1>Welcome to Your Fitness Journey!</h1>
    <h2>Let’s set up your profile to personalize your experience.</h2>
    <button (click)="next($event)" class="btn">Get Started</button>
  </div>

  <ng-template #personal>
    <div *ngIf="activeIndex === 1; else setGoal" class="step">
      <h2>Tell us about yourself</h2>
      <form>
        <div class="flex">
          <div class="field">
            <label for="weight">Weight (kg)</label>
            <input type="number" id="weight" [(ngModel)]="weight" name="weight" placeholder="Enter your weight" />
          </div>
          <div class="field">
            <label for="height">Height (cm)</label>
            <input type="number" id="height" [(ngModel)]="height" name="height" placeholder="Enter your height" />
          </div>
        </div>
        <div class="field">
          <label for="dob">Date of Birth (optional)</label>
          <input type="date" id="dob" [(ngModel)]="dateOfBirth" name="dob" />
        </div>
        <button (click)="back($event)" class="btn back">Back</button>
        <button (click)="next($event)" class="btn">Next</button>
      </form>
    </div>
  </ng-template>

  <ng-template #setGoal>
    <div *ngIf="activeIndex === 2; else activity" class="step">
      <h2>What’s your next goal?</h2>
      <form>
        <label><input type="radio" name="goal" [(ngModel)]="goal" [value]="Goal.LoseWeight" /> Lose weight</label>
        <label><input type="radio" name="goal" [(ngModel)]="goal" [value]="Goal.GainMuscle" /> Gain muscle</label>
        <label><input type="radio" name="goal" [(ngModel)]="goal" [value]="Goal.StayFit" /> Stay fit</label>
        <button (click)="back($event)" class="btn back">Back</button>
        <button (click)="next($event)" class="btn">Next</button>
      </form>
    </div>
  </ng-template>

  <ng-template #activity>
    <div *ngIf="activeIndex === 3; else type" class="step">
      <h2>How active are you in your daily life?</h2>
      <form>
        <label><input type="radio" name="activity" [(ngModel)]="activityLevel" [value]="ActivityLevel.Sedentary" /> Sedentary (little or no exercise)</label>
        <label><input type="radio" name="activity" [(ngModel)]="activityLevel" [value]="ActivityLevel.LightlyActive"  /> Lightly active (1-3 days/week)</label>
        <label><input type="radio" name="activity" [(ngModel)]="activityLevel" [value]="ActivityLevel.ModeratelyActive"  /> Moderately active (3-5 days/week)</label>
        <label><input type="radio" name="activity" [(ngModel)]="activityLevel" [value]="ActivityLevel.VeryActive"  /> Very active (6-7 days/week)</label>
        <button (click)="back($event)" class="btn back">Back</button>
        <button (click)="next($event)" class="btn">Next</button>
      </form>
    </div>
  </ng-template>

  <ng-template #type>
    <div *ngIf="activeIndex === 4; else summary" class="step">
      <h2>What type of workouts do you enjoy?</h2>
      <form>
        <!-- ToDo: Fix -->
        <label><input type="checkbox" [(ngModel)]="favoriteWorkoutTypes" [value]="WorkoutType.Cardio" name="cardio" /> Cardio</label>
        <label><input type="checkbox" [(ngModel)]="favoriteWorkoutTypes" [value]="WorkoutType.StrengthTraining" name="strength-training" /> Strength training</label>
        <label><input type="checkbox" [(ngModel)]="favoriteWorkoutTypes" [value]="WorkoutType.Yoga" name="yoga" /> Yoga</label>
        <label><input type="checkbox" [(ngModel)]="favoriteWorkoutTypes" [value]="WorkoutType.Other" name="other" /> Other</label>
        <button (click)="back($event)" class="btn back">Back</button>
        <button (click)="next($event)" class="btn">Next</button>
      </form>
    </div>
  </ng-template>

  <ng-template #summary>
    <div class="step">
      <h2>Review Your Profile</h2>
      <ul>
        <li><strong>Weight:</strong> {{ weight }} kg</li>
        <li><strong>Height:</strong> {{ height }} cm</li>
        <li><strong>Goal:</strong> {{ goal }}</li>
        <li><strong>Activity Level:</strong> {{ activityLevel }}</li>
        <li><strong>Preferred Workouts:</strong> {{ favoriteWorkoutTypes.join(', ') }}</li>
      </ul>
      <button (click)="back($event)" class="btn back">Back</button>
      <button (click)="confirm()" class="btn">Confirm</button>
    </div>
  </ng-template>
</div>
